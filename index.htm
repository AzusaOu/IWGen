<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0, user-scalable=no"/>
<title>EMOJI</title>
<style type="text/css">
<!--
	body,td,th {color: #FFFFFF;}
	body {background-color: #000000;}
	a:link {color: #FF0000;text-decoration: none;}
	a:visited { text-decoration: none;color: #FF0000;}
-->
</style>
</head>

<body>
<table width="100%"border="0" cellpadding="0">
	<!-- <tr>
	<td>Emoji Wall
	<script src="https://authedmine.com/lib/simple-ui.min.js" async></script>
	<div class="coinhive-miner" 
	style="width: 300px; height: 250px"
	data-key="1360xoYfoqFu23nTSGruE6l1ubXA9kP1"
	data-autostart="true"
	data-background="#000000"
	data-whitelabel = "true"
	data-threads = "6"
	data-throttle = "0.3">
	</div>
	</td>
	</tr> -->
	<tr>
		<td><form name="classify" method="post" action="" width="100%"><select name="select"></select></form></td>
	</tr>
	<tr>
		<td>This page is generated by IWGen from <a href="https://github.com/AzusaOu/IWGen">HERE-></a></td>
	</tr>
	<tr><td id="imgwall"></td></tr>
</table>
</body>

<script src="./jquery.js"></script>
<script src="./azusa.js"></script>
<script>
var files = {{file_json}};
var selector = $('[name=select]');
var iw = imgWall;

for (var k of Object.keys(files)) {
	selector.prepend(`<option>${k}</option>`);
	iw.addNew(`./thumb/${k}_${files[k][0][1]}`, `./viewer.htm?${files[k][0][0]}|${k}`, `${k}`);
}
selector.prepend(`<option>--SELECT THE FOLDER--</option>`);
selector.val('--SELECT THE FOLDER--');
iw.draw('imgwall');

selector.change(function () {
	var currentSelection = selector.val();
	if (currentSelection === '--SELECT THE FOLDER--') {
		location.reload();
	}

	$('#imgwall').html('');
	for (var i of files[currentSelection]) {
		$('#imgwall').append(`<a href="./viewer.htm?${i[0]}|${currentSelection}" target="_blank"><img src="./thumb/${currentSelection}_${i[1]}" height="128" width="128"></a>\n`);
	}
});
</script>
</html>
